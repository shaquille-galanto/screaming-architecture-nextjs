'use client'

import { Context, createContext, useContext, useState } from 'react'
import type { {{pascalCase name }}ContextType, {{pascalCase name }}ProviderProps } from './types'

export const {{pascalCase name }}Context = createContext<{{pascalCase name }}ContextType | null>(
  null,
) as Context<{{pascalCase name }}ContextType>

export const {{pascalCase name }}Provider = ({ children }: {{pascalCase name }}ProviderProps) => {
  const [isUpdating, setIsUpdating] = useState(false)

  return (
    <{{pascalCase name }}Context.Provider value=\{{ isUpdating, setIsUpdating }}>
      {children}
    </{{pascalCase name }}Context.Provider>
  )
}

export const use{{pascalCase name }}Context = () => {
  const context = useContext({{pascalCase name }}Context)

  if (!context) throw new Error('use{{pascalCase name }}Context must be used within the scope of {{pascalCase name }}Provider')

  return context
}
